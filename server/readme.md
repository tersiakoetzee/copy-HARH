# Payment Gateway Integration using Yoco API

This is a simple payment gateway integration example using the Yoco API. It is built using Node.js and Express.js.

## Getting Started

### Prerequisites

To use this code, you will need the following:

- Node.js (v12 or higher)
- Yoco account
- Secret Key (from Yoco dashboard)

### Installation

1.  Clone the repository
2.  Install dependencies using `npm install`

### Yoco Keys

To use the Yoco API, you will need to have your Yoco Secret Key. You can find your Yoco Secret Key by logging into your Yoco dashboard.

In order to keep your Yoco Secret Key secure, it is recommended to store it as an environment variable. This code reads the Yoco Secret Key from an environment variable named `SECRET_KEY` in the `.env` file located in the root directory.

### Environment Variables

The `.env` file mentioned in the installation section should have the following format:

    SECRET_KEY=<your_secret_key>

Replace `<your_secret_key>` with your actual Yoco Secret Key.

Make sure to add the `.env` file to your `.gitignore` file so that it is not uploaded to version control and stays secure.

When the code is executed, it will read the `SECRET_KEY` environment variable and use it to authenticate with the Yoco API.

### Usage

This code exposes a single endpoint `/` that accepts a POST request. It expects the following parameters in the request body:

- `token`: A token generated by the Yoco SDK
- `amountInCents`: The amount to charge in cents
- `currency`: The currency to use (e.g., `ZAR`, `USD`, etc.)

To use this code, make a POST request to the endpoint `/` with the required parameters in the request body.

### Example

[Go to the offical Yoco site for the exam](https://www.yoco.com/za/yoco-gateway/#:~:text=How%20do%20I%20link%20Yoco,to%20link%20with%20your%20website.)

### Error Handling

If there is an error with the request, the code will respond with an HTTP error code and a message explaining the error.

## Acknowledgments

- [Yoco API Documentation](https://developers.yoco.com/)
- [Express.js Documentation](https://expressjs.com/)

<br />

# Google Calendar API Integration for bookings

## Getting Started

### Prerequisites

- Node.js and npm installed
- A Google account

### Installation

`npm install` will install all the packages needed including googleapis and google-auth-library, if not found they can be installed:

```
npm i googleapis
npm i google-auth-library
```

### Setup

- Go to the Google Cloud Console and create a new project.
- Enable the [Calendar API](https://console.cloud.google.com/marketplace/product/google/calendar-json.googleapis.com?pli=1)
- [Create a service account](https://developers.google.com/workspace/guides/create-credentials#create_a_service_account)
- In your calendar where you want to create events, go to the settings and share the calendar with [the e-mail of your service account](https://console.cloud.google.com/iam-admin/serviceaccounts) (Make sure to set the permissions to "Make changes to events")
- [Create and save the credentials JSON for your created account](https://developers.google.com/workspace/guides/create-credentials#create_credentials_for_a_service_account) into your Node.JS project (Never user the credentials from the json file, use them as environment variables.)

### Environment Variables

Note: CLIENT_EMAIL and PRIVATE_KEY is found in the above created and saved credentials JSON file

Add the following variables in `.env` file.

```
CALENDA_ID=<your_email_address>
CLIENT_EMAIL=<email_found_in_credential_json_file>
PRIVATE_KEY=<private_key_found_in_credentials_json_file>
```

### Reference

- [Create Google Calender Events using the Google API and Service Accounts in Node.JS](https://dev.to/pedrohase/create-google-calender-events-using-the-google-api-and-service-accounts-in-nodejs-22m8)

<br />

# Database for the Funding Form

This form is built with Node.js and Express.js and connects to a Postgres database to store and retrieve data.

## Getting Started

### Prerequisites

To use this code, you will need the following:

- Node.js and npm installed

- Postgres

### Installation

Using the command `npm install` will install the necessary dependencies.

### Setup

1.  Download and install a PostgreSQL server.
2.  Open the psql command-line tool.
3.  Run a CREATE DATABASE command to create a new database. Your table should include the same column names as the parameters under the usage section.

How to do this can be found in the postgres documentation:

[PostgreSQL: The world's most advanced open source database](https://www.postgresql.org/)

4.  Connect to the new database using environmental variables.

### Environment Variables

The following should be added to the `.env` file:

    DB_HOST = <your_host_name>

    DB_NAME = <your_database_name>

    DB_PASS or DB_PASSWORD = <your_password>
    DB_PORT =<your_database_port>

    DB_USER or DB_USERNAME  = <your_username>

Make sure to add the `.env` file to your `.gitignore` file so that it is not uploaded to version control and stays secure.

When the code is executed, it will read the environment variables and use it to authenticate with your postgres database.

### Usage

This code exposes a single endpoint `/` that accepts a POST request. It expects the following parameters in the request body:

- `name`: The name of the user

- `companyName`: The name of the Company of the user

- `country`: The country the user resides in

- `contactNumber`: The users contact number

- `email`: The user's email

- `contribType`: The type of contribution the user wishes to make

- `other`: Refers to an option that is not on the list of given options as a type of contribution

To use this code, make a POST request to the endpoint `/api/booking` with the required parameters in the request body.

### How it works

When the user submits the Funding form, a popup is shown with the details you've submitted. If the payment is successful, the application sends the data you've added to the database.

### Acknowledgements

- [Express.js Documentation](https://expressjs.com/)
- [PostgreSQL: The world's most advanced open source database](https://www.postgresql.org/)
